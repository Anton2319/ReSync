Output("–ó–∞–ø—É—Å–∫ —è–¥—Ä–∞ –≤–µ—Ä—Å–∏–∏ " + core)

exec(ReadFF("lib/detectfull.py"))
#exec(ReadFF("lib/surrogate-manager.py"))
exec(ReadFF("lib/CUMv2.py"))
exec(ReadFF('lib/generrorcode.py'))

system_errors = ""
service_errors = []
corerc_errors = []
execution_errors = []
systemcare = 0
careless = 0

COMMANDSDIR = "commands/"
VCCOMMANDSDIR = "voice/"

peers_list = ReadFF("chats/peers.txt")

for x in os.listdir(COMMANDSDIR):
    try:
        procmsg("–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–∞–Ω–¥—ã " + x)
        cmdjs = convertjson(ReadFF(f"{COMMANDSDIR}{x}/{x}.json"))
        if not cmdjs["disabled"]:
            authors.append(cmdjs["author"])
            modes.append(cmdjs["mode"])
            ids.append(cmdjs["identificator"])
            commands.append(cmdjs["command_ru"])
            descs.append(cmdjs["description"])
            succ()
            systemcare += 1
        else:
            failcomplete()
            Output(f"–í–Ω–∏–º–∞–Ω–∏–µ: –∫–æ–º–∞–Ω–¥–∞ {cmdjs['command_ru']} –æ—Ç–∫–ª—é—á–µ–Ω–∞.")

    except Exception as e:
        failcomplete()
        Output(e)
        system_errors += "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–∞–Ω–¥—É: " + str(e)
        systemcare += 1
        careless += 1

for x in os.listdir(VCCOMMANDSDIR):
    try:
        procmsg("–ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã " + x)
        cmdjs = convertjson(ReadFF(f"{VCCOMMANDSDIR}{x}/{x}.json"))
        if not cmdjs["disabled"]:
            vc_authors.append(cmdjs["author"])
            vc_modes.append(cmdjs["mode"])
            vc_ids.append(cmdjs["identificator"])
            vc_commands.append(cmdjs["command_ru"])
            vc_descs.append(cmdjs["description"])
            succ()
            systemcare += 1
        else:
            failcomplete()
            Output(f"–í–Ω–∏–º–∞–Ω–∏–µ: –≥–æ–ª–æ—Å–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ {cmdjs['command_ru']} –æ—Ç–∫–ª—é—á–µ–Ω–∞.")

    except Exception as e:
        failcomplete()
        Output(e)
        system_errors += "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É: " + str(e)
        systemcare += 1
        careless += 1

rcs = []
for x in os.listdir("corerc"):
    try:
        procmsg("–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ " + x[:-3])
        rcs.append(ReadFF('corerc/' + x))
        succ()
        systemcare += 1
    except Exception as e:
        failcomplete()
        systemcare += 1
        careless += 1

endl = "\n"
services_errors = []

Output("–ó–∞–ø—É—Å–∫ Autostart...")
for x in os.listdir('services'):
    procmsg("–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ " + x[:-3])
    try:
        exec(ReadFF("services/" + x))
        succ()
        systemcare += 1
    except Exception as e:
        systemcare += 1
        careless += 1
        failcomplete()
        system_errors += "–°–µ—Ä–≤–∏—Å: " + x + ", –æ—à–∏–±–∫–∞: " + str(e) + "\n"

Output('–Ø–¥—Ä–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.')

writeTo(time.time(), "start-time.txt")

vk2 = VkApi(token="8d6331ce06e57c78c5a9aff74656d9b7e5863291ac31eb4218b6eb7267b6b3e047dea5723722b49656ef9").get_api()

while True:
    try:
        for x in diff:
            exec(f"del {x}")
    except:
        pass
    old_list = dir()
    old_list.append("old_list")
    old_list.append("diff")
    InfoMsg("–ó–∞–ø—É—â–µ–Ω –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª")
    if only_admins:
        addition = "(–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º)"
    else:
        addition = ""
    mta(f"""–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω {addition}.
–°–µ—Ä–≤–µ—Ä: {Get("http://ident.me/")}
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: {osname}
–•–æ—Å—Ç–Ω–µ–π–º: {os.uname()[1]}""")
    del addition
    try:
        for event in longpoll.listen():
            EventMsg(str(event.type))
            if (event.type == VkBotEventType.MESSAGE_NEW or event.type == VkBotEventType.MESSAGE_EDIT) and not isgroup(event.object["message"]['from_id']):
                event.object = event.object["message"]
                using = False
                outputd = False
                writeTo("", "usr/lastoutput.txt")
                PlusWrite(event.object["text"] + "\n", "usr/bread.txt")
                start = time.time()
                user_id = event.object['from_id']
                peer_id = event.object['peer_id']
                Output(f"\n\n\n=================================\n–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {getname(user_id)} ({str(user_id)}) –≤ —á–∞—Ç–µ {str(peer_id)}\n–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: \"{event.object['text']}\"\n–í–ª–æ–∂–µ–Ω–∏–π: {str(len(event.object['attachments']))}")
                if len(event.object["attachments"]) > 0:
                    atchmnts = []
                    for atchmnt in event.object["attachments"]:
                        atchmnts.append(atchmnt["type"])
                    Output("–¢–∏–ø—ã –≤–ª–æ–∂–µ–Ω–∏–π: " + ", ".join(atchmnts) + "\n=================================\n\n")
                    del atchmnt, atchmnts
                else: Output("=================================")

                #–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ–∫—Å—Ç–∞
                if event.object["text"] == "":
                    try:
                        if event.object["attachments"][0]["audio_message"]["duration"] < 30:
                            Download(event.object["attachments"][0]["audio_message"]["link_mp3"], "file.mp3")
                            sound = AudioSegment.from_mp3("file.mp3")
                            sound.export("file.wav", format="wav")
                            sample_audio = speech_recog.AudioFile('file.wav')

                            with sample_audio as audio_file:
                                audio_content = rec.record(audio_file)
                                textop = rec.recognize_google(audio_content, language="ru-RU").split(" ")
                                if textop[0] == "–∫–æ–¥":
                                    textop[0] = "–∫–æ—Ç"
                                textic_2 = " ".join(textop)
                                textic = str(textic_2).lower()
                                voice = True
                                using = True
                                if textic_2 != "":
                                    Output("–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!\n–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: " + textic_2)
                                del textop
                            del sound
                            del sample_audio
                    except:
                        #exc_type, exc_value, exc_tb = sys.exc_info()
                        textic_2 = ""
                        textic = ""
                        voice = False
                        using = False
                        #mta(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {getmention(user_id)} ({str(user_id)}) –≤ —á–∞—Ç–µ {str(peer_id)}: \n" + "\n".join(traceback.format_exception(exc_type, exc_value, exc_tb)))
                else:
                    textic_2 = event.object['text']
                    textic = event.object['text'].lower()
                    voice = False
                useprefix = False
                if event.from_chat:
                    chat_id = event.chat_id
                if textic.startswith(ReadFF("mention.txt")) and event.from_chat:
                    textic = textic[len(ReadFF("mention.txt"))]
                    textic_2 = textic_2[len(ReadFF("mention.txt"))]
                    useprefix = True
                    #using = True
                if textic.startswith('/'):
                    textic = textic[1:]
                    textic_2 = textic_2[1:]
                    useprefix = True
                    using = True
                if event.from_user:
                    useprefix = True
                cmd = textic.split(' ')[0]
                writeTo(cmd, 'cmd.txt')
                parameter = textic_2.split(' ')[1:]
                parameter = ' '.join(parameter)

                #
                # –§–æ—Ä—Å-—Å–Ω—è—Ç–∏–µ —Å —Ç—Ä–æ–ª–ª–∏–Ω–≥–∞
                #

                if textic == "forcetroll" and str(user_id) in admins and str(user_id) in trolling.keys():
                    del trolling[str(user_id)]
                    updatetroll()

                if cmd in commands: #and (not "#hide" in ReadFF(COMMANDSDIR + cmd) or user_id in admins):
                    using = True
                    InfoMsg("–û–±—Ä–∞–±–æ—Ç–∫–∞...")
                if textic_2 == "":
                    using = False

                coun = 0
                for x in rcs:
                    coun += 1
                    try:
                        procmsg("–ó–∞–ø—É—Å–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ " + str(coun))
                        exec(x)
                        succ()
                    except Exception as e:
                        failcomplete()
                        exc_type, exc_value, exc_tb = sys.exc_info()
                        messagecust('–û—Ç–≤–∞–ª –ø—Ä–æ—Ü–µ—Å—Å–∞: \n' + "\n".join(traceback.format_exception(exc_type, exc_value, exc_tb)), 242722587)
                        system_errors += "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞: " + str(e) + endl

                if using == True and user_id in banned:
                    using = False

                if using == True and str(user_id) in trolling.keys():
                    using = False

                using = using and permitting_()

                #
                # –û–±—Ä–∞–±–æ—Ç—á–∏–∫-–æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥. –ö—É—Å–∞–µ—Ç—Å—è!
                #
                if using:
                    try:
                        replytext = event.object["reply_message"]["text"]
                        if parameter == "":
                            parameter = replytext
                            InfoMsg("–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ (–æ—Ç–≤–µ—Ç) –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ.")
                    except:
                        pass
                    try:
                        writeTo(detectfull(event.object['attachments'][0]), 'argv_picture.txt')
                    except:
                        writeTo("none", "argv_picture.txt")
                    ins = 'false'

                    #–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö
                    for x in commands:
                        if cmd == x and useprefix:
                            if getparam(user_id, "stage") == "default":#" | " not in textic_2:
                                Output(f"""
=================================
–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ {x}!
–°–∏–Ω—Ç–∞–∫—Å–∏—Å: {textic_2}
–ü–∞—Ä–∞–º–µ—Ç—Ä: {parameter}
""")
                                InfoMsg("–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ " + x)
                                ins = 'true'
                                an = 1
                                if modes[commands.index(x)] == "pic" and ReadFF("argv_picture.txt") == "none":
                                    message("–ö–æ–º–∞–Ω–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.")
                                    an = 0
                                if modes[commands.index(x)] == "start" and parameter == "":
                                    message("–ö–æ–º–∞–Ω–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞.\n\n–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: " + cmd + " —Ç–µ–∫—Å—Ç")
                                    an = 0
                                code_js = convertjson(ReadFF(f"{COMMANDSDIR}{ids[commands.index(x)]}/{ids[commands.index(x)]}.json"))
                                author = code_js["author"]
                                mode = code_js["mode"]
                                identificator = code_js["identificator"]
                                command_ru = code_js["command_ru"]
                                description = code_js["description"]
                                if an == 1:
                                    if not code_js["restricted"]:
                                        try:
                                            code = ReadFF(f"{COMMANDSDIR}{ids[commands.index(x)]}/{ids[commands.index(x)]}.py")
                                            procmsg("–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã...")
                                            if not code_js["testing"]:
                                                exec(code)
                                                PlusWrite("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ " + ids[commands.index(x)] + ".py\n", "commandslog.txt")
                                                try:
                                                    sc = int(getparam(user_id, "score"))
                                                    sc = sc + 1
                                                    setparam(user_id, "score", str(sc))
                                                except:
                                                    Output("CUMv2/Warning: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å —É—á—ë—Ç +1 –∫–æ–º–∞–Ω–¥—ã.")
                                                    pass
                                                succ()
                                            else:
                                                if isTester(user_id):
                                                    exec(code)
                                                else:
                                                    message("–í—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–º, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–º, —Ç–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ @catpy.beta!", reply=True)
                                        except vk_api.exceptions.ApiError as e:
                                            if str(e).startswith("[917]"):
                                                message("–£–ø—Å! –Ø –Ω–µ –º–æ–≥—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ —è–≤–ª—è—é—Å—å –∞–¥–º–∏–Ω–æ–º —ç—Ç–æ–≥–æ —á–∞—Ç–∞! –ù–∞–∑–Ω–∞—á—å—Ç–µ –º–µ–Ω—è –∞–¥–º–∏–Ω–æ–º –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.")
                                        except Exception as e:
                                            Output(e)
                                            message(f"–ö–æ–º–∞–Ω–¥–∞ {command_ru} [{identificator}] –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏.\n–ö–æ–¥ –æ—à–∏–±–∫–∏: {generrorcode(str(e), identificator)}\n–ê–≤—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã: {author}\n–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ –±—ã–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞.")
                                            exc_type, exc_value, exc_tb = sys.exc_info()
                                            mta(f"==CatABMS-Package BugReport==\n–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:\n\n–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è: {readableDate(time.time())}\n–ö–æ–º–∞–Ω–¥–∞: {command_ru} [{identificator}]\n–ê–≤—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã: {author}\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {getmention(user_id)} ({user_id})\nID –¥–∏–∞–ª–æ–≥–∞ (peer_id): {peer_id}\n–ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä: {parameter}\n–ö–æ–¥ –æ—à–∏–±–∫–∏: {e}\n\nTraceback –æ—à–∏–±–∫–∏:\n\n" + '\n'.join(traceback.format_exception(exc_type, exc_value, exc_tb)))
                                            Output("\n".join(traceback.format_exception(exc_type, exc_value, exc_tb)))
                                            failcomplete()
                                    else:
                                        if str(user_id) not in ReadFF("usr/restricted.txt").split(","):
                                            message("–î–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤–Ω–µ—Å–µ–Ω–∞ –≤ –ø–∞–∫–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. –û–¥–Ω–∞–∫–æ, –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–∞–∫–µ—Ç –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π \"–ø–æ–¥–∫–ª—é—á–∏—Ç—å-–ø–∞–∫–µ—Ç\".")
                                        else:
                                            try:
                                                code = ReadFF(f"{COMMANDSDIR}{ids[commands.index(x)]}/{ids[commands.index(x)]}.py")
                                                if not code_js["testing"]:
                                                    exec(code)
                                                else:
                                                    if isTester(user_id):
                                                        exec(code)
                                                    else:
                                                        message("–í—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–º, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å—Ç–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–º, —Ç–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ @catpy.beta!", reply=True)
                                            except Exception as e:
                                                #PlusWrite("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ " + ids[commands.index(x)] + ".py\n", "commandslog.txt")
                                                failcomplete()
                                                Output(e)
                                                message("–ö–æ–º–∞–Ω–¥–∞ " + command_ru + " [" + identificator + f"] –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏.\n–ö–æ–¥ –æ—à–∏–±–∫–∏: {generrorcode(str(e), identificator)}\n–ê–≤—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã: " + author + "\n–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ –±—ã–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞.")
                                                exc_type, exc_value, exc_tb = sys.exc_info()
                                                mta("==CatABMS-Package BugReport==\n–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:\n\n–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è: " + readableDate(time.time()) + "\n–ö–æ–º–∞–Ω–¥–∞: " + command_ru + " [" + identificator + "]\n–ê–≤—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã: " + author + "\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: " + getmention(user_id) + " (" + str(user_id) + ")\nID –¥–∏–∞–ª–æ–≥–∞ (peer_id): " + str(peer_id) + "\n–ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä: " + parameter + "\n–ö–æ–¥ –æ—à–∏–±–∫–∏: " + str(e) + "\n\nTraceback –æ—à–∏–±–∫–∏:\n\n" + "\n".join(traceback.format_exception(exc_type, exc_value, exc_tb)))
                                                Output("\n".join(traceback.format_exception(exc_type, exc_value, exc_tb)))
                                                #failcomplete()
                                            except vk_api.exceptions.ApiError as e:
                                                if str(e).startswith("[917]"):
                                                    message("–£–ø—Å! –Ø –Ω–µ –º–æ–≥—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ —è–≤–ª—è—é—Å—å –∞–¥–º–∏–Ω–æ–º —ç—Ç–æ–≥–æ —á–∞—Ç–∞! –ù–∞–∑–Ω–∞—á—å—Ç–µ –º–µ–Ω—è –∞–¥–º–∏–Ω–æ–º –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É —Å–Ω–æ–≤–∞.")
                                Output("=================================\n\n")
                            else:
                                #try: #R.I.P –ø–∞–π–ø—ã –Ω–∞—Ö—É–π!
                                #    outputd = True
                                #    firstpart = textic.split(" | ")
                                #    cmd1 = firstpart[0].split(' ')[0]
                                #    parameter = " ".join(firstpart[0].split(' ')[1:])
                                #    exec(ReadFF(f"{COMMANDSDIR}{ids[commands.index(cmd1)]}/{ids[commands.index(cmd1)]}.py"))
                                #    parameter = " ".join(firstpart[1].split(" ")[1:]) + " " + ReadFF("usr/lastoutput.txt")
                                #    outputd = False
                                #    exec(ReadFF(f"{COMMANDSDIR}{ids[commands.index(firstpart[1].split(' ')[0])]}/{ids[commands.index(firstpart[1].split(' ')[0])]}.py"))
                                #except Exception as e:
                                #    message(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–∞–π–ø–æ–≤: {str(e)}")
                                try:
                                    exec(ReadFF("chains/" + getparam(user_id, "stage") + .py)
                                    setparam()
                                except:
                                    

                elif not using and textic_2 != "" and useprefix and str(user_id) in ReadFF("usr/restricted.txt").split(",") and user_id not in banned and str(user_id) not in trolling.keys() and user_id not in muted and permitting_():
                    try:
                        try:
                            anss = str(Get("http://artificalintellect.pythonanywhere.com/gen?text=" + textic_2))
                            if anss.startswith("error") or anss == "0":
                                message("–£–ø—Å, –∞ —è –ø–æ–∫–∞ –Ω–µ –∑–Ω–∞—é, –∫–∞–∫ –Ω–∞ —ç—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—å!")
                            else:
                                #
                                # "–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∏–º–µ–ª–∏ –≤–≤–∏–¥—É?"
                                #
                                g = []
                                for j in commands:
                                    if Similar(cmd, j):
                                        g.append(j)
                                seems_txt = ""
                                if g != []:
                                    for h in g:
                                        seems_txt += "\n -> " + h
                                    message("–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∏–º–µ–ª–∏ –≤–≤–∏–¥—É: \n" + seems_txt)
                                else:
                                    message(anss.replace("%USERNAME", getname(user_id)))
                        except:
                            pass
                    except:
                        pass
                elif user_id in banned and useprefix == True:
                    message("–í—ã –±—ã–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π catpy.")
                elif str(user_id) in trolling.keys() and useprefix == True:
                    message(trolling[str(user_id)])
                else:
                    InfoMsg("–ó–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω")

            if event.type == VkBotEventType.GROUP_LEAVE:
                Output(f"""
=================================
–û—Ç–ø–∏—Å–∞–ª—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {getname(event.object['user_id'])} ({event.object['user_id']})
=================================
""")
                sexmessage('–Ø –≤—Å—ë –≤–∏–∂—É! –ù–µ –º–æ–≥ –±—ã —Ç—ã —Å–æ–æ–±—â–∏—Ç—å –Ω–∞–º –∫–æ–º–∞–Ω–¥–æ–π "—Ä–µ–ø–æ—Ä—Ç", –ø–æ—á–µ–º—É —Ç—ã –æ—Ç–ø–∏—Å–∞–ª—Å—è, –Ω–∞–º –≤–∞–∂–Ω–æ —ç—Ç–æ –∑–Ω–∞—Ç—å!', '–ù–µ –º–æ–≥–ª–∞ –±—ã —Ç—ã —Å–æ–æ–±—â–∏—Ç—å –Ω–∞–º –∫–æ–º–∞–Ω–¥–æ–π "—Ä–µ–ø–æ—Ä—Ç", –ø–æ—á–µ–º—É —Ç—ã –æ—Ç–ø–∏—Å–∞–ª—Å—è, –Ω–∞–º –≤–∞–∂–Ω–æ —ç—Ç–æ –∑–Ω–∞—Ç—å!', event.object['user_id'])
                mta('üîª–û—Ç–ø–∏—Å–∞–ª—Å—è: ' + getmention(event.object['user_id']))

            if event.type == VkBotEventType.GROUP_JOIN:
                Output(f"""
=================================
–ü–æ–¥–ø–∏—Å–∞–ª—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {getname(event.object['user_id'])} ({event.object['user_id']})
=================================
""")
                messagecust('C–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É!', event.object['user_id'])
                mta('üî∫–ü–æ–¥–ø–∏—Å–∞–ª—Å—è: ' + getmention(event.object['user_id']))

            if event.type == VkBotEventType.MESSAGE_REPLY:
            #    setparam("sent", getparam("surrogate", "sent") + len(textic_2), "surrogate")
                try:
                    peer_id = event.object['peer_id']
                    text = event.object['text']
                    if peer_id > 2000000000:
                        Output(f"""
=================================
–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –±–µ—Å–µ–¥—É {peer_id}\n–¢–µ–∫—Å—Ç: {text}
=================================
""")
                    else:
                        Output(f"""
=================================
–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {getname(peer_id)} ({peer_id})\n–¢–µ–∫—Å—Ç: {text}
=================================
""")
                except: pass

            if event.type == VkBotEventType.WALL_POST_NEW:
                Output(f"""
=================================
–ù–∞ –º–æ–µ–π —Å—Ç–µ–Ω–µ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π –ø–æ—Å—Ç: wall{event.object["owner_id"]}_{event.object["id"]}
=================================
""")
                messagecust("–•–µ–π, —é–∑–µ—Ä—ã! –£ –º–µ–Ω—è –Ω–∞ —Å—Ç–µ–Ω–µ –Ω–æ–≤—ã–π –ø–æ—Å—Ç!", 2000000072, attachment="wall{}_{}".format(event.object["owner_id"], event.object["id"]))
            if int(psutil.virtual_memory().percent) >= 90:
                mta(f"–ü–ï–†–ï–ú–û–ì–ê –ë–õ–Ø–î–¨! –ó–ê–ù–Ø–¢–û {psutil.virtual_memory().percent}% –û–ó–£!!")
            new_list = dir()
            diff = list(set(new_list) - set(old_list))
            print("Catware Memory Gun: u should clean this variables: " + ", ".join(diff))
            if enable_memgun_cleaning:
                for kef in diff:
                    exec(f"del {kef}")
    except Exception as e:
        InfoMsg("–°—Ä–∞–±–æ—Ç–∞–ª–∞ –∑–∞—â–∏—Ç–∞ Hardened Core. " + str(e) + ": " + str(__name__))
        exc_type, exc_value, exc_tb = sys.exc_info()
        mta(f"–Ø–¥—Ä–æ —É—Å–ø–µ—â—å–Ω–æ —Ä—É—Ö–Ω—É–ª–æ!!1!! –¢—Ä–µ–π—Å:\n" + '\n'.join(traceback.format_exception(exc_type, exc_value, exc_tb)))
